import{a as g,l as m,m as _}from"./alertMixin-DyMZh6iB.js";import{_ as w,c as d,o as a,b as t,g as n,d as i,j as c,h as f,t as o,f as v,n as C,B as j,F as h,r as k}from"./index-KAsS_BkG.js";const B={data(){return{order:{user:{},product:{}},isRotate:!1,payMethod:""}},methods:{getOrder(){_(this.$route.params.id).then(l=>{this.order=l.data.order}).catch(()=>{this.alert.msg="Failed to get Order!",this.alert.state=!1,this.sendMsg(),this.couponCode=""})},postPay(){this.payMethod?m(this.$route.params.id).then(l=>{this.$router.push(`/finish/${l.data.orderId}`)}).catch(()=>{this.alert.msg="Failed to finish the payment!",this.alert.state=!1,this.sendMsg()}):(this.alert.msg="Please choose one payment method!",this.alert.state=!1,this.sendMsg())}},created(){this.getOrder()},mixins:[g]},I={class:"container mx-auto px-4 py-5 mt-[100px] md:mt-[150px]"},N={class:"flex justify-center items-center mb-10 gap-8 lg:gap-20"},F={class:"flex flex-col items-center relative z-10 text-secondary"},T={class:"w-16 h-16 rounded-full bg-secondary text-white flex items-center justify-center mb-2 shadow-lg"},M={class:"flex flex-col items-center relative z-10 text-secondary"},O={class:"w-16 h-16 rounded-full bg-secondary text-white flex items-center justify-center mb-2 shadow-lg"},D={class:"flex flex-col items-center relative z-10 text-secondary"},P={class:"w-16 h-16 rounded-full bg-secondary text-white flex items-center justify-center mb-2 shadow-lg"},R={class:"flex flex-col md:flex-row gap-8"},S={class:"w-full md:w-5/12 pt-0 md:pt-14 mb-5"},z={class:"bg-primary shadow-xl rounded-lg p-8 mx-auto text-center text-white"},V={class:"flex flex-col sm:flex-row justify-center gap-4"},E={class:"w-full md:w-7/12 mb-4"},$={class:"bg-white text-gray-800 rounded-lg shadow-sm border border-gray-200 overflow-hidden"},q={class:"p-6 text-sm"},A={class:"flex justify-between py-2 border-b border-gray-100"},G={class:"flex justify-between py-2 border-b border-gray-100"},H={class:"break-all text-right ml-4"},K={class:"flex justify-between py-2 border-b border-gray-100"},L={class:"flex justify-between py-2 border-b border-gray-100"},Q={class:"flex justify-between py-2 border-b border-gray-100"},U={class:"flex justify-between py-2 border-b border-gray-100"},J={class:"flex justify-between py-2 border-b border-gray-100"},W={class:"font-bold text-xl text-secondary"},X={class:"mt-4"},Y={class:"mt-4 overflow-hidden transition-all duration-300"},Z={class:"overflow-x-auto rounded-lg border border-gray-200"},tt={class:"w-full text-left text-gray-600"},st={class:"divide-y divide-gray-100"},et={class:"p-3 w-16"},ot=["src","alt"],rt={class:"p-3 font-medium text-gray-800"},nt={class:"p-3 text-center"},lt={class:"p-3 text-right whitespace-nowrap"},dt={key:0,class:"font-bold text-secondary"},at={class:"block text-xs line-through text-gray-400"},it={class:"font-bold text-secondary"};function ct(l,s,pt,ft,e,ht){const x=i("BIconCart"),b=i("BIconCreditCard"),u=i("BIconStar"),p=i("router-link"),y=i("BIconCaretDownFill");return a(),d("main",I,[t("div",N,[t("div",F,[t("div",T,[n(x,{width:"1.5rem",height:"1.5rem"})]),s[1]||(s[1]=t("p",{class:"font-bold"},"Checkout",-1))]),s[4]||(s[4]=t("div",{class:"h-[2px] w-16 bg-secondary -mt-8 hidden md:block"},null,-1)),t("div",M,[t("div",O,[n(b,{width:"1.5rem",height:"1.5rem"})]),s[2]||(s[2]=t("p",{class:"font-bold"},"Payment",-1))]),s[5]||(s[5]=t("div",{class:"h-[2px] w-16 bg-secondary -mt-8 hidden md:block"},null,-1)),t("div",D,[t("div",P,[n(u,{width:"1.5rem",height:"1.5rem"})]),s[3]||(s[3]=t("p",{class:"font-bold"},"Finish",-1))])]),t("div",R,[t("div",S,[t("div",z,[s[8]||(s[8]=t("h2",{class:"text-3xl font-bold mb-6 leading-tight"},[c(" Thank you "),t("br"),c(" for your purchase! ")],-1)),t("div",V,[n(p,{to:"/",class:"px-6 py-2 border-2 border-white text-white font-bold rounded hover:bg-white hover:text-secondary transition-colors"},{default:f(()=>[...s[6]||(s[6]=[c(" Go to Home ",-1)])]),_:1}),n(p,{to:"/products",class:"px-6 py-2 bg-secondary text-white font-bold rounded hover:bg-opacity-90 transition-colors"},{default:f(()=>[...s[7]||(s[7]=[c(" Keep shopping ",-1)])]),_:1})])])]),t("section",E,[t("div",$,[s[18]||(s[18]=t("h2",{class:"text-xl font-bold px-6 py-4 bg-gray-50 border-b border-gray-200 text-gray-800"}," Order Info ",-1)),t("div",q,[t("div",A,[s[9]||(s[9]=t("span",{class:"font-bold text-gray-500"},"Date:",-1)),t("span",null,o(l.$filters.date(e.order.create_at)),1)]),t("div",G,[s[10]||(s[10]=t("span",{class:"font-bold text-gray-500"},"Track Number:",-1)),t("span",H,o(e.order.id),1)]),t("div",K,[s[11]||(s[11]=t("span",{class:"font-bold text-gray-500"},"Customer Name:",-1)),t("span",null,o(e.order.user.name),1)]),t("div",L,[s[12]||(s[12]=t("span",{class:"font-bold text-gray-500"},"Contact Number:",-1)),t("span",null,o(e.order.user.tel),1)]),t("div",Q,[s[13]||(s[13]=t("span",{class:"font-bold text-gray-500"},"Email:",-1)),t("span",null,o(e.order.user.email),1)]),t("div",U,[s[14]||(s[14]=t("span",{class:"font-bold text-gray-500"},"Address:",-1)),t("span",null,o(e.order.user.address),1)]),t("div",J,[s[15]||(s[15]=t("span",{class:"font-bold text-gray-500"},"Subtotal:",-1)),t("span",W,"NT$ "+o(e.order.total),1)]),t("div",X,[t("button",{class:"flex items-center justify-between w-full text-left font-bold text-secondary focus:outline-none group",onClick:s[0]||(s[0]=r=>e.isRotate=!e.isRotate)},[s[16]||(s[16]=t("span",null,"Order Items",-1)),n(y,{class:C(["transform transition-transform duration-300",{"rotate-180":e.isRotate}])},null,8,["class"])]),v(t("div",Y,[t("div",Z,[t("table",tt,[s[17]||(s[17]=t("thead",{class:"bg-gray-50 text-xs uppercase text-gray-500"},[t("tr",null,[t("th",{colspan:"2",class:"px-4 py-2"},"Product"),t("th",{class:"px-4 py-2 text-center"},"Qty"),t("th",{class:"px-4 py-2 text-right"},"Total")])],-1)),t("tbody",st,[(a(!0),d(h,null,k(e.order.products,r=>(a(),d("tr",{key:r.id,class:"bg-white hover:bg-gray-50 transition-colors"},[t("td",et,[t("img",{src:r.product.imageUrl,alt:r.product.title,class:"w-12 h-12 object-cover rounded shadow-sm"},null,8,ot)]),t("td",rt,o(r.product.title),1),t("td",nt,o(r.qty),1),t("td",lt,[r.total===r.final_total?(a(),d("span",dt,"NT$ "+o(r.total),1)):(a(),d(h,{key:1},[t("span",at," NT$ "+o(r.total),1),t("span",it,"NT$ "+o(r.final_total),1)],64))])]))),128))])])])],512),[[j,e.isRotate]])])])])])])])}const ut=w(B,[["render",ct]]);export{ut as default};
