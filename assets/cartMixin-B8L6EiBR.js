import{a as r,i,j as l,k as h}from"./alertMixin-D7fDxKTS.js";const n={data(){return{carts:[],total:"",final_total:""}},methods:{getCart(){h().then(t=>{this.carts=t.data.data.carts,this.total=t.data.data.total,this.final_total=t.data.data.final_total})},editCart(t,a){let{qty:e}=t;return a==="+"?e+=1:a==="-"&&(e-=e>1?1:0),l(t.id,e).then(()=>{this.alert.msg="Product edited successfully!",this.alert.state=!0,this.sendMsg(),this.getCart()}).catch(s=>{[this.alert.msg]=s.response.data.message,this.alert.state=!1,this.sendMsg()})},delCartItem(t){return i(t).then(()=>{this.alert.msg="Product deleted successfully!",this.alert.state=!0,this.sendMsg(),this.getCart()}).catch(a=>{[this.alert.msg]=a.response.data.message,this.alert.state=!1,this.sendMsg()})}},created(){this.getCart()},mounted(){this.$emitter.on("renewCart",()=>{this.getCart()})},watch:{carts(t,a){const e=JSON.stringify(t),s=JSON.stringify(a);e!==s&&this.$emitter.emit("renewCart")}},mixins:[r]};export{n as c};
