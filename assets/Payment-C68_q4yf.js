import{a as x,l as h,m as w}from"./alertMixin-D7fDxKTS.js";import{_ as v,c as l,o as n,b as t,g as d,d as a,f as p,D as c,t as r,n as _,B as C,F as u,r as k}from"./index-Wqe06NJ2.js";const j={data(){return{order:{user:{},product:{}},isRotate:!1,payMethod:""}},methods:{getOrder(){w(this.$route.params.id).then(i=>{this.order=i.data.order}).catch(()=>{this.alert.msg="Failed to get Order!",this.alert.state=!1,this.sendMsg(),this.couponCode=""})},postPay(){this.payMethod?h(this.$route.params.id).then(()=>{this.$router.push(`/finish/${this.$route.params.id}`)}).catch(()=>{this.alert.msg="Failed to finish the payment!",this.alert.state=!1,this.sendMsg()}):(this.alert.msg="Please choose one payment method!",this.alert.state=!1,this.sendMsg())}},created(){this.getOrder()},mixins:[x]},M={class:"container mx-auto px-4 py-5 mt-[100px] md:mt-[150px]"},P={class:"flex justify-center items-center mb-10 gap-8 lg:gap-20"},B={class:"flex flex-col items-center relative z-10 text-secondary"},I={class:"w-16 h-16 rounded-full bg-secondary text-white flex items-center justify-center mb-2 shadow-lg"},R={class:"flex flex-col items-center relative z-10 text-secondary"},N={class:"w-16 h-16 rounded-full bg-secondary text-white flex items-center justify-center mb-2 shadow-lg"},F={class:"flex flex-col items-center relative z-10 text-gray-400"},D={class:"w-16 h-16 rounded-full bg-gray-200 flex items-center justify-center mb-2"},O={class:"flex flex-col md:flex-row gap-8"},T={class:"w-full md:w-5/12 pt-3 mb-5"},S={class:"flex items-center gap-3"},z={class:"flex items-center gap-3"},V={class:"w-full md:w-7/12 mb-4"},U={class:"bg-white text-gray-800 rounded-lg shadow-sm border border-gray-200 overflow-hidden"},E={class:"p-6 text-sm"},q={class:"flex justify-between py-2 border-b border-gray-100"},A={class:"flex justify-between py-2 border-b border-gray-100"},L={class:"break-all text-right ml-4"},Q={class:"flex justify-between py-2 border-b border-gray-100"},G={class:"flex justify-between py-2 border-b border-gray-100"},H={class:"flex justify-between py-2 border-b border-gray-100"},J={class:"flex justify-between py-2 border-b border-gray-100"},K={class:"flex justify-between py-2 border-b border-gray-100"},W={class:"font-bold text-xl text-secondary"},X={class:"mt-4"},Y={class:"mt-4 overflow-hidden transition-all duration-300"},Z={class:"overflow-x-auto rounded-lg border border-gray-200"},$={class:"w-full text-left text-gray-600"},tt={class:"divide-y divide-gray-100"},st={class:"p-3 w-16"},et=["src","alt"],ot={class:"p-3 font-medium text-gray-800"},rt={class:"p-3 text-center"},lt={class:"p-3 text-right whitespace-nowrap"},nt={key:0,class:"font-bold text-secondary"},dt={class:"block text-xs line-through text-gray-400"},at={class:"font-bold text-secondary"};function it(i,s,pt,yt,o,y){const b=a("BIconCart"),f=a("BIconCreditCard"),g=a("BIconStar"),m=a("BIconCaretDownFill");return n(),l("main",M,[t("div",P,[t("div",B,[t("div",I,[d(b,{width:"1.5rem",height:"1.5rem"})]),s[6]||(s[6]=t("p",{class:"font-bold"},"Checkout",-1))]),s[9]||(s[9]=t("div",{class:"h-[2px] w-16 bg-secondary -mt-8 hidden md:block"},null,-1)),t("div",R,[t("div",N,[d(f,{width:"1.5rem",height:"1.5rem"})]),s[7]||(s[7]=t("p",{class:"font-bold"},"Payment",-1))]),s[10]||(s[10]=t("div",{class:"h-[2px] w-16 bg-gray-300 -mt-8 hidden md:block"},null,-1)),t("div",F,[t("div",D,[d(g,{width:"1.5rem",height:"1.5rem"})]),s[8]||(s[8]=t("p",null,"Finish",-1))])]),t("div",O,[t("section",T,[s[14]||(s[14]=t("h2",{class:"text-2xl font-bold mb-4 text-gray-800"}," Payment methods ",-1)),t("div",{class:"border border-gray-200 rounded-t-lg p-4 bg-white hover:bg-gray-50 transition-colors cursor-pointer",onClick:s[1]||(s[1]=e=>o.payMethod="Credit Card")},[t("div",S,[p(t("input",{class:"w-4 h-4 text-secondary focus:ring-secondary border-gray-300",id:"creditRadio",type:"radio",name:"paywith",value:"Credit Card","onUpdate:modelValue":s[0]||(s[0]=e=>o.payMethod=e)},null,512),[[c,o.payMethod]]),s[11]||(s[11]=t("label",{for:"creditRadio",class:"cursor-pointer font-medium text-gray-700"},"Credit Card",-1))])]),t("div",{class:"border border-gray-200 border-t-0 rounded-b-lg p-4 bg-white hover:bg-gray-50 transition-colors mb-6 cursor-pointer",onClick:s[3]||(s[3]=e=>o.payMethod="Paypal")},[t("div",z,[p(t("input",{class:"w-4 h-4 text-secondary focus:ring-secondary border-gray-300",id:"paypalRadio",type:"radio",name:"paywith",value:"Paypal","onUpdate:modelValue":s[2]||(s[2]=e=>o.payMethod=e)},null,512),[[c,o.payMethod]]),s[12]||(s[12]=t("label",{for:"paypalRadio",class:"cursor-pointer font-medium text-gray-700"},"Paypal",-1))])]),t("button",{class:"bg-secondary text-white px-8 py-3 rounded-full hover:bg-opacity-90 transition-all duration-300 font-bold w-full shadow-md transform hover:-translate-y-1",type:"button",onClick:s[4]||(s[4]=(...e)=>y.postPay&&y.postPay(...e))},[...s[13]||(s[13]=[t("span",null,"Pay & Confirm",-1)])])]),t("section",V,[t("div",U,[s[24]||(s[24]=t("h2",{class:"text-xl font-bold px-6 py-4 bg-gray-50 border-b border-gray-200 text-gray-800"}," Order Info ",-1)),t("div",E,[t("div",q,[s[15]||(s[15]=t("span",{class:"font-bold text-gray-500"},"Date:",-1)),t("span",null,r(i.$filters.date(o.order.create_at)),1)]),t("div",A,[s[16]||(s[16]=t("span",{class:"font-bold text-gray-500"},"Track Number:",-1)),t("span",L,r(o.order.id),1)]),t("div",Q,[s[17]||(s[17]=t("span",{class:"font-bold text-gray-500"},"Customer Name:",-1)),t("span",null,r(o.order.user.name),1)]),t("div",G,[s[18]||(s[18]=t("span",{class:"font-bold text-gray-500"},"Contact Number:",-1)),t("span",null,r(o.order.user.tel),1)]),t("div",H,[s[19]||(s[19]=t("span",{class:"font-bold text-gray-500"},"Email:",-1)),t("span",null,r(o.order.user.email),1)]),t("div",J,[s[20]||(s[20]=t("span",{class:"font-bold text-gray-500"},"Address:",-1)),t("span",null,r(o.order.user.address),1)]),t("div",K,[s[21]||(s[21]=t("span",{class:"font-bold text-gray-500"},"Subtotal:",-1)),t("span",W,"NT$ "+r(o.order.total),1)]),t("div",X,[t("button",{class:"flex items-center justify-between w-full text-left font-bold text-secondary focus:outline-none group",onClick:s[5]||(s[5]=e=>o.isRotate=!o.isRotate)},[s[22]||(s[22]=t("span",null,"Order Items",-1)),d(m,{class:_(["transform transition-transform duration-300",{"rotate-180":o.isRotate}])},null,8,["class"])]),p(t("div",Y,[t("div",Z,[t("table",$,[s[23]||(s[23]=t("thead",{class:"bg-gray-50 text-xs uppercase text-gray-500"},[t("tr",null,[t("th",{colspan:"2",class:"px-4 py-2"},"Product"),t("th",{class:"px-4 py-2 text-center"},"Qty"),t("th",{class:"px-4 py-2 text-right"},"Total")])],-1)),t("tbody",tt,[(n(!0),l(u,null,k(o.order.products,e=>(n(),l("tr",{key:e.id,class:"bg-white hover:bg-gray-50 transition-colors"},[t("td",st,[t("img",{src:e.product.imageUrl,alt:e.product.title,class:"w-12 h-12 object-cover rounded shadow-sm"},null,8,et)]),t("td",ot,r(e.product.title),1),t("td",rt,r(e.qty),1),t("td",lt,[e.total===e.final_total?(n(),l("span",nt,"NT$ "+r(e.total),1)):(n(),l(u,{key:1},[t("span",dt," NT$ "+r(e.total),1),t("span",at,"NT$ "+r(e.final_total),1)],64))])]))),128))])])])],512),[[C,o.isRotate]])])])])])])])}const bt=v(j,[["render",it]]);export{bt as default};
