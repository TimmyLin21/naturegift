import{a as k,d as C,e as j,f as P}from"./alertMixin-D7fDxKTS.js";import{l as q}from"./loadingMixin-CrgvWKu1.js";import{S as I}from"./SkeletonProduct-Cu4gh8Fn.js";import{_ as D,c as d,o as i,C as M,b as t,F as u,r as p,g as c,h,d as g,t as r,j as l,f as T,v as B,w as y,a as N}from"./index-Wqe06NJ2.js";const F={data(){return{product:[],products:[],currentImg:"",qty:1,data:{product_id:"",qty:1},isLoading:!1}},components:{SkeletonProduct:I},methods:{getProduct(){this.isLoading=!0,P(this.$route.params.id).then(n=>{this.product=n.data.product,this.currentImg=this.product.imageUrl,this.getProducts(),this.isLoading=!1}).catch(()=>{this.alert.msg="Fail to get the product",this.alert.state=!1,this.sendMsg(),this.isLoading=!1})},getProducts(){j(1,this.product.category).then(n=>{this.products=n.data.products.filter(e=>e.id!==this.product.id)}).catch(()=>{this.alert.msg="Fail to get the products",this.alert.state=!1,this.sendMsg()})},getDetail(n){this.$router.replace(`/product/${n}`),setTimeout(()=>{this.getProduct()},0)},addToCart(n,e=1){this.data.product_id=n,this.data.qty=e,this.data.qty<0?(this.alert.msg="Quantity should more than 0.",this.alert.state=!1,this.sendMsg()):C(this.data).then(()=>{this.alert.msg="Product added to cart successfully!",this.alert.state=!0,this.sendMsg(),this.qty=1,this.$emitter.emit("renewCart")}).catch(f=>{[this.alert.msg]=f.response.data.message,this.alert.state=!1,this.sendMsg()})},minusQty(){this.qty>1&&(this.qty-=1)}},created(){this.getProduct()},mixins:[k,q]},L={class:"container mx-auto px-4 py-12 mt-[100px] md:mt-[150px]"},S={key:0,class:"animate-pulse"},U={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 list-none p-0"},V={key:1},Q={class:"grid grid-cols-1 lg:grid-cols-2 gap-12 mb-12"},A={class:"col"},E=["src","alt"],H={class:"grid grid-cols-3 gap-4"},W={class:""},z=["src","alt"],G=["src","alt","onClick"],J={class:"text-left"},K={"aria-label":"breadcrumb",class:"mb-4"},O={class:"flex space-x-2 text-gray-500"},R={class:"flex items-center"},X={class:"flex items-center"},Y={class:"font-bold text-gray-700","aria-current":"page"},Z={class:"text-3xl font-bold mb-4"},$={class:"text-gray-600 mb-4 leading-relaxed"},tt={class:"text-gray-500 mb-8"},et={key:0,class:"text-3xl font-bold mb-8 text-secondary"},st={key:1,class:"text-3xl font-bold mb-8 text-secondary"},ot={class:"text-red-500 line-through text-xl mr-4"},rt={class:"flex mb-8 flex-wrap items-center gap-6"},dt={class:"flex items-center gap-2"},it=["disabled"],lt={class:"grid grid-cols-1 lg:grid-cols-2 gap-12 mb-12"},nt={class:"text-left pt-5"},at={class:"leading-relaxed text-gray-600"},ct={class:""},ut={class:"bg-secondary pb-2 rounded overflow-hidden"},gt={class:"mx-2 bg-[#f9faee] p-4 rounded-b"},pt={class:"flex justify-between border-b border-dashed border-gray-300 py-2"},ft={class:"flex justify-between border-b border-dashed border-gray-300 py-2"},bt={class:"flex justify-between border-b border-dashed border-gray-300 py-2"},vt={class:"flex justify-between border-b border-dashed border-gray-300 py-2"},ht={class:"flex justify-between py-2 border-0"},yt={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 list-none p-0"},mt={key:0,class:"mb-4"},xt=["onClick"],_t=["src","alt"],wt={class:"mb-1 font-bold text-lg text-left"},kt={class:"text-gray-500 mb-2 text-left"},Ct=["onClick"];function jt(n,e,f,Pt,s,a){const m=g("SkeletonProduct"),b=g("router-link"),x=g("BIconDashCircle"),_=g("BIconPlusCircle");return i(),d("section",L,[s.isLoading?(i(),d("div",S,[e[5]||(e[5]=M('<div class="grid grid-cols-1 lg:grid-cols-2 gap-12 mb-12" data-v-7e68f28f><div class="col" data-v-7e68f28f><div class="w-full h-[250px] md:h-[400px] bg-gray-200 rounded-lg mb-4" data-v-7e68f28f></div><div class="grid grid-cols-3 gap-4" data-v-7e68f28f><div class="h-[100px] bg-gray-200 rounded" data-v-7e68f28f></div><div class="h-[100px] bg-gray-200 rounded" data-v-7e68f28f></div><div class="h-[100px] bg-gray-200 rounded" data-v-7e68f28f></div></div></div><div class="text-left" data-v-7e68f28f><div class="h-4 bg-gray-200 rounded w-1/3 mb-4" data-v-7e68f28f></div><div class="h-8 bg-gray-200 rounded w-3/4 mb-4" data-v-7e68f28f></div><div class="space-y-2 mb-8" data-v-7e68f28f><div class="h-4 bg-gray-200 rounded w-full" data-v-7e68f28f></div><div class="h-4 bg-gray-200 rounded w-5/6" data-v-7e68f28f></div><div class="h-4 bg-gray-200 rounded w-4/6" data-v-7e68f28f></div></div><div class="h-4 bg-gray-200 rounded w-1/4 mb-8" data-v-7e68f28f></div><div class="h-8 bg-gray-200 rounded w-1/4 mb-8" data-v-7e68f28f></div><div class="flex mb-8 flex-wrap items-center gap-6" data-v-7e68f28f><div class="h-10 bg-gray-200 rounded w-32" data-v-7e68f28f></div><div class="h-10 bg-gray-200 rounded-full w-40" data-v-7e68f28f></div></div></div></div><div class="grid grid-cols-1 lg:grid-cols-2 gap-12 mb-12" data-v-7e68f28f><div data-v-7e68f28f><div class="h-8 bg-gray-200 rounded w-1/4 mb-4" data-v-7e68f28f></div><div class="space-y-2" data-v-7e68f28f><div class="h-4 bg-gray-200 rounded w-full" data-v-7e68f28f></div><div class="h-4 bg-gray-200 rounded w-full" data-v-7e68f28f></div><div class="h-4 bg-gray-200 rounded w-3/4" data-v-7e68f28f></div></div></div><div data-v-7e68f28f><div class="h-64 bg-gray-200 rounded" data-v-7e68f28f></div></div></div><div class="h-8 bg-gray-200 rounded w-1/4 mb-6" data-v-7e68f28f></div>',3)),t("ul",U,[(i(),d(u,null,p(3,o=>t("li",{key:o},[c(m)])),64))])])):(i(),d("div",V,[t("div",Q,[t("div",A,[t("img",{src:s.currentImg,alt:s.product.title,class:"w-full border h-[250px] md:h-[400px] object-cover object-center rounded-lg mb-4"},null,8,E),t("div",H,[t("div",W,[t("img",{src:s.product.imageUrl,alt:s.product.title,class:"w-full h-[100px] object-cover object-center border rounded cursor-pointer hover:opacity-80 transition-opacity",onClick:e[0]||(e[0]=o=>s.currentImg=s.product.imageUrl)},null,8,z)]),(i(!0),d(u,null,p(s.product.imagesUrl,o=>(i(),d("div",{class:"",key:o},[t("img",{src:o,alt:s.product.title,class:"w-full h-[100px] object-cover object-center border rounded cursor-pointer hover:opacity-80 transition-opacity",onClick:v=>s.currentImg=o},null,8,G)]))),128))])]),t("div",J,[t("nav",K,[t("ol",O,[t("li",R,[c(b,{to:"/",class:"text-gray-500 hover:text-secondary no-underline font-medium"},{default:h(()=>[...e[6]||(e[6]=[l(" Home ",-1)])]),_:1}),e[7]||(e[7]=t("span",{class:"mx-2"},"/",-1))]),t("li",X,[c(b,{to:"/products",class:"text-gray-500 hover:text-secondary no-underline font-medium"},{default:h(()=>[...e[8]||(e[8]=[l(" Products ",-1)])]),_:1}),e[9]||(e[9]=t("span",{class:"mx-2"},"/",-1))]),t("li",Y,r(s.product.category),1)])]),t("h2",Z,r(s.product.title),1),t("p",$,r(s.product.description),1),t("p",tt," Weight: "+r(s.product.unit),1),s.product.origin_price===s.product.price?(i(),d("p",et," $ "+r(s.product.price),1)):(i(),d("p",st,[t("span",ot," $ "+r(s.product.origin_price),1),l(" $ "+r(s.product.price),1)])),t("div",rt,[t("div",dt,[t("button",{class:"text-secondary text-2xl leading-none focus:outline-none disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center w-6 h-6",onClick:e[1]||(e[1]=(...o)=>a.minusQty&&a.minusQty(...o)),disabled:s.qty<=1},[c(x)],8,it),T(t("input",{class:"w-12 text-center border-0 p-0 focus:ring-0 font-bold bg-gray-100 rounded border border-gray-200 h-6 leading-none text-lg",type:"number","onUpdate:modelValue":e[2]||(e[2]=o=>s.qty=o),min:"1"},null,512),[[B,s.qty,void 0,{number:!0}]]),t("button",{class:"text-secondary text-2xl leading-none focus:outline-none flex items-center justify-center w-6 h-6",onClick:e[3]||(e[3]=o=>s.qty+=1)},[c(_)])]),t("a",{href:"#",class:"inline-block bg-secondary text-white px-8 py-3 rounded-full hover:bg-opacity-90 transition-all duration-300 font-bold uppercase tracking-wider",onClick:e[4]||(e[4]=y(o=>a.addToCart(s.product.id,s.qty),["prevent"]))}," Add to cart ")])])]),t("div",lt,[t("div",nt,[e[10]||(e[10]=t("h3",{class:"text-2xl font-bold mb-4 border-b-2 border-secondary pb-2 inline-block"}," Description ",-1)),t("p",at,r(s.product.content),1)]),t("div",ct,[t("div",ut,[e[17]||(e[17]=t("h4",{class:"text-white py-3 text-center text-xl font-bold"}," Nutritional Information ",-1)),t("div",gt,[e[16]||(e[16]=t("p",{class:"flex justify-between border-b border-dashed border-gray-300 py-2"},[t("span"),l("Per 100g")],-1)),t("p",pt,[e[11]||(e[11]=l("Energy (kg)",-1)),t("span",null,r(s.product.calories),1)]),t("p",ft,[e[12]||(e[12]=l("Carbohydrate (g)",-1)),t("span",null,r(s.product.carbohydrate),1)]),t("p",bt,[e[13]||(e[13]=l("Protein (g)",-1)),t("span",null,r(s.product.protein),1)]),t("p",vt,[e[14]||(e[14]=l("Fat (g)",-1)),t("span",null,r(s.product.fat),1)]),t("p",ht,[e[15]||(e[15]=l(" Fiber (g)",-1)),t("span",null,r(s.product.fiber),1)])])])])]),e[21]||(e[21]=t("h3",{class:"text-2xl font-bold mb-6 text-left border-l-4 border-secondary pl-4"}," Have you tried? ",-1)),t("ul",yt,[(i(!0),d(u,null,p(s.products,(o,v)=>(i(),d(u,{key:o.id},[v<3?(i(),d("li",mt,[t("div",{class:"mb-3 relative overflow-hidden group rounded-lg cursor-pointer",role:"button",onClick:w=>a.getDetail(o.id)},[t("img",{src:o.imageUrl,alt:o.title,class:"w-full h-[200px] object-cover object-center rounded-lg"},null,8,_t),e[18]||(e[18]=t("div",{class:"absolute inset-0 bg-black opacity-0 group-hover:opacity-20 transition-all duration-300"},null,-1)),e[19]||(e[19]=t("div",{class:"absolute bottom-0 left-1/2 transform -translate-x-1/2 translate-y-[150%] bg-gray-200 px-6 py-2 text-secondary rounded transition-transform duration-300 group-hover:-translate-y-[10%] cursor-pointer"}," Check Details ",-1))],8,xt),t("p",wt,r(o.title),1),t("p",kt," $"+r(o.price)+" NTD / "+r(o.unit),1),t("a",{href:"",class:"inline-block bg-secondary text-white px-6 py-2 rounded-full hover:bg-opacity-90 transition-all duration-300 font-bold",onClick:y(w=>a.addToCart(o.id),["prevent"])},[...e[20]||(e[20]=[t("span",null,"Add to cart",-1)])],8,Ct)])):N("",!0)],64))),128))])]))])}const Tt=D(F,[["render",jt],["__scopeId","data-v-7e68f28f"]]);export{Tt as default};
